## 差分

### 应用场景

常用于对于某一序列区间上多次加减一个数，并且在最后的时候询问，修改的操作一定在询问操作之前。

例如：在数组*a*上选择第*i*到第*j*位上加上*x*



## 前缀和

**数列前*n*项的和**

### 一维预处理

```c++
for(int i = 1;i <= n; i++)
    pre[i] = pre[i - 1] + a[i];
```

### 二维及多维

#### 二维

差分思想

```
for(int i = 1;i <= n; i++)
	for(int j = 1;j <= m; j++)
		pre[i][j] = pre[i-1][j] + pre[i][j-1] - pre[i-1][j-1] + a[i][j]
```

#### 多维

--待补--

### 树上前缀和

我们首先用*sum[i]*表示结点*i*到根结点的权值和。

点权：于是x到y路径上的和便是sum[x]+sum[y]-sum[LCA(x,y)]-sum[fa[LCA(x,y)]]

边权：sum[x]+sum[y]-2**sum[LCA(x,y)]*